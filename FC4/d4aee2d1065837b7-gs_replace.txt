// ---- Created with 3Dmigoto v1.2.32 on Sun Feb 28 04:28:16 2016

cbuffer cbPerFrame : register(b0)
{
  row_major float4x4 g_viewProjection : packoffset(c0);
  row_major float4x4 g_modelMatrix : packoffset(c4);
  float4 color : packoffset(c8);
  float g_HairWidth : packoffset(c9);
  float g_Aspect : packoffset(c9.y);
  float2 g_Dummy : packoffset(c9.z);
}



// 3Dmigoto declarations
#define cmp -
Texture1D<float4> IniParams : register(t120);
Texture2D<float4> StereoParams : register(t125);


[maxvertexcount(4)]
void main( 
  inout TriangleStream<float> m0,
  float4 v0 : SV_Position0,
  out float4 o0 : SV_Position0)
{
// Needs manual fix for instruction: 
// unknown dcl_: dcl_input_siv v[1][0].xyzw, position
  float4 r0,r1;
  uint4 bitmask, uiDest;
  float4 fDest;

// Needs manual fix for instruction: 
// unknown dcl_: dcl_inputprimitive point 
// Needs manual fix for instruction:  
//dcl_stream m0
// Needs manual fix for instruction: 
// unknown dcl_: dcl_outputtopology trianglestrip 
  r0.x = g_HairWidth / g_Aspect;
  r1.xyzw = float4(0,1,0,-1) * g_HairWidth;
  r0.yzw = r0.xxx * float3(-1,0,0) + r1.xyx;
  r0.yzw = v[0][0].xyz + r0.yzw;
  o0.xyz = r0.yzw;
  o0.w = v[0][0].w;
// Needs manual fix for instruction, maybe. 
//emit_stream m0
m0.Append(0); 
  r0.yzw = r0.xxx * float3(1,0,0) + r1.xyx;
  r0.yzw = v[0][0].xyz + r0.yzw;
  o0.xyz = r0.yzw;
  o0.w = v[0][0].w;
// Needs manual fix for instruction, maybe. 
//emit_stream m0
m0.Append(0); 
  r0.yzw = r0.xxx * float3(-1,0,0) + r1.zwz;
  r1.xyz = r0.xxx * float3(1,0,0) + r1.zwz;
  r1.xyz = v[0][0].xyz + r1.xyz;
  r0.xyz = v[0][0].xyz + r0.yzw;
  o0.xyz = r0.xyz;
  o0.w = v[0][0].w;
// Needs manual fix for instruction, maybe. 
//emit_stream m0
m0.Append(0); 
  o0.xyz = r1.xyz;
  o0.w = v[0][0].w;
// Needs manual fix for instruction, maybe. 
//emit_stream m0
m0.Append(0); 
// Needs manual fix for instruction, maybe. 
//cut_stream m0
m0.RestartStrip(); 
  return;
}

/*~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Original ASM ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//
// Generated by Microsoft (R) HLSL Shader Compiler 9.29.952.3111
//
//
// Buffer Definitions: 
//
// cbuffer cbPerFrame
// {
//
//   row_major float4x4 g_viewProjection;// Offset:    0 Size:    64 [unused]
//   row_major float4x4 g_modelMatrix;  // Offset:   64 Size:    64 [unused]
//   float4 color;                      // Offset:  128 Size:    16 [unused]
//   float g_HairWidth;                 // Offset:  144 Size:     4
//   float g_Aspect;                    // Offset:  148 Size:     4
//   float2 g_Dummy;                    // Offset:  152 Size:     8 [unused]
//
// }
//
//
// Resource Bindings:
//
// Name                                 Type  Format         Dim Slot Elements
// ------------------------------ ---------- ------- ----------- ---- --------
// cbPerFrame                        cbuffer      NA          NA    0        1
//
//
//
// Input signature:
//
// Name                 Index   Mask Register SysValue  Format   Used
// -------------------- ----- ------ -------- -------- ------- ------
// SV_Position              0   xyzw        0      POS   float   xyzw
//
//
// Output signature:
//
// Name                 Index   Mask Register SysValue  Format   Used
// -------------------- ----- ------ -------- -------- ------- ------
// SV_Position              0   xyzw        0      POS   float   xyzw
//
gs_5_0
dcl_globalFlags refactoringAllowed
dcl_constantbuffer cb0[10], immediateIndexed
dcl_input_siv v[1][0].xyzw, position
dcl_temps 2
dcl_inputprimitive point 
dcl_stream m0
dcl_outputtopology trianglestrip 
dcl_output_siv o0.xyzw, position
dcl_maxout 4
div r0.x, cb0[9].x, cb0[9].y
mul r1.xyzw, cb0[9].xxxx, l(0.000000, 1.000000, 0.000000, -1.000000)
mad r0.yzw, r0.xxxx, l(0.000000, -1.000000, 0.000000, 0.000000), r1.xxyx
add r0.yzw, r0.yyzw, v[0][0].xxyz
mov o0.xyz, r0.yzwy
mov o0.w, v[0][0].w
emit_stream m0
mad r0.yzw, r0.xxxx, l(0.000000, 1.000000, 0.000000, 0.000000), r1.xxyx
add r0.yzw, r0.yyzw, v[0][0].xxyz
mov o0.xyz, r0.yzwy
mov o0.w, v[0][0].w
emit_stream m0
mad r0.yzw, r0.xxxx, l(0.000000, -1.000000, 0.000000, 0.000000), r1.zzwz
mad r1.xyz, r0.xxxx, l(1.000000, 0.000000, 0.000000, 0.000000), r1.zwzz
add r1.xyz, r1.xyzx, v[0][0].xyzx
add r0.xyz, r0.yzwy, v[0][0].xyzx
mov o0.xyz, r0.xyzx
mov o0.w, v[0][0].w
emit_stream m0
mov o0.xyz, r1.xyzx
mov o0.w, v[0][0].w
emit_stream m0
cut_stream m0
ret 
// Approximately 24 instruction slots used

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~*/


/*~~~~~~~~~~~~~~~~~~~~~~~~~~~~ HLSL errors ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
T:\Games\Far Cry 4\bin\wrapper1349(42,12): error X3004: undeclared identifier 'v'
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~*/
